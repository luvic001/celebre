function insertURLParam(t,e){t=encodeURIComponent(t),e=encodeURIComponent(e);var a=document.location.search.substr(1).split("&");let o=0;for(;o<a.length;o++)if(a[o].startsWith(t+"=")){let t=a[o].split("=");t[1]=e,a[o]=t.join("=");break}o>=a.length&&(a[a.length]=[t,e].join("="));let n=a.join("&");document.location.search=n}jQuery(function(t){t.checkFieldOnBackend=(e=>{if("object"!=typeof e)return!1;t.ajax({url:`${site_url}/check-field`,data:{fieldName:e.attr("name"),fieldData:e.val()},type:"POST",complete:t=>{if(200!==t.status)return!1;res=t.responseJSON,res.success?e.removeClass("field-error").addClass("field-valid"):e.addClass("field-error").removeClass("field-valid")}})}),t.validateField=(e=>{t.checkFieldOnBackend(e)}),t(document).on("blur","[checkField]",function(){let e=t(this);t.validateField(e)})}),jQuery(function(t){t(document).on("submit","[ajax-form]",function(e){e.preventDefault(),form=t(this),formData=new FormData(form[0]),t.ajax({type:"POST",data:formData,processData:!1,contentType:!1,url:`${site_url}/${form.attr("action")}`,beforeSend:()=>{t.writeInPopup("",siteLoader),t.openPopup(),form.find("input:submit, button").attr("disabled","disabled")},complete:e=>{form.find("input:submit, button").removeAttr("disabled");let a=200==e.status?e.responseJSON.title:"Ops!!";t.writeInPopup(a,e.responseJSON.content),200==e.status&&form[0].reset()}})})}),$=jQuery,$(document).on("click","[ajax-link]",function(t){t.preventDefault();let e=$(this).attr("ajax-link"),a=$(this).attr("href"),o=$(this).attr("ID");$.ajax({type:"POST",url:`${site_url}/ajax`,data:{module:a,callerID:o,data:e},beforeSend:()=>{$.writeInPopup("",siteLoader),$.openPopup()},complete:t=>{let e=200==t.status?t.responseJSON.title:"Ops!!";$.writeInPopup(e,t.responseJSON.content)}})}),jQuery(function($){let body_element_base=$("main.site-app"),header_element_height=55,is_scrolling=!1;$.animate_header_categories=(t=>{let e=t.parents().eq(1);e.find("a").removeClass("active"),t.addClass("active"),e.animate({scrollLeft:t.position().left+e.scrollLeft()-$(".filter-space").innerWidth()},0,()=>{is_loading||($("div[path-url]").removeClass("current-page"),$(`div[path-url="${t.attr("href")}"]`).addClass("current-page")),is_loading=!1})}),$(document).on("click","[menu-categories]",function(t){t.preventDefault();let e=$(this),a=$(`[path-url="${e.attr("href")}"]`);$.animate_header_categories(e),is_scrolling=!0,body_element_base.animate({scrollTop:body_element_base.scrollTop()+a.position().top-header_element_height},400,()=>{is_scrolling=!1,$("div[path-url]").removeClass("current-page"),$(`div[path-url="${e.attr("href")}"]`).addClass("current-page")})});var categories_section_position=new Array;$.get_sections_position_top_and_save_into_var=(()=>{categories_section_position=[],$(".cat-item").each(function(t,e){element_position_top=parseInt($(this).position().top-header_element_height),categories_section_position[element_position_top]=e.id})}),$.get_sections_position_top_and_save_into_var(),$(window).on("resize",function(){$.get_sections_position_top_and_save_into_var()}),$(body_element_base).on("scroll",function(){if(!is_scrolling&&!is_search){let page_y=$(body_element_base).scrollTop();categories_section_position.forEach((element_id,element_min_pos)=>{var element_max_pos=eval($(`#${element_id}`).innerHeight()+element_min_pos);if(page_y>=element_min_pos&&page_y<=element_max_pos){let t=$(`a[href="/${cardapio_url}/${element_id}"]`);$.animate_header_categories(t)}})}})}),jQuery(function(t){t.open_loader=(()=>{t("body").addClass("fx-loading")}),t.close_loader=(()=>{t("body").removeClass("fx-loading")})}),jQuery(function(t){t(document).on("change","[data-money-min]",function(){let e=t(this),a=t(this).parents().eq(1),o=e.val(),n=parseFloat(e.attr("data-min")).toFixed(2),r=n.toString().replace(".",",");o=o.replace(",","."),o=parseFloat(o),a.find(".field-error-alert").remove(),isNaN(o)||o<n?a.addClass("field-error").append(`<p class="field-error-alert">O valor deve ser no mínimo R$ ${r} (Valor total)</p>`):a.removeClass("field-error")})}),$(document).on("click","[delete-client]",function(t){t.preventDefault(),confirmacao=confirm(`Você tem certeza de que deseja ${$(this).attr("title")}`),confirmacao&&$.ajax({type:"POST",url:`${site_url}/excluir-cliente`,data:{client:$(this).attr("delete-client")},beforeSend:()=>{$.writeInPopup("",siteLoader),$.openPopup()},complete:t=>{let e=200==t.status?t.responseJSON.title:"Ops!!";$.writeInPopup(e,t.responseJSON.content)}})}),$(document).on("change","[limit-change]",function(){insertURLParam("limit",$(this).val())}),$(document).on("click","[page-share]",function(t){t.preventDefault();var e=`${site_url}/${cardapio_url}`;const a={title:page_title,url:e,text:""};navigator.share&&navigator.share(a)}),$(document).on("click","[password-toggle]",function(t){t.preventDefault();let e=$(this);var a=e.parent().find("input");"password"==a.attr("type")?(e.addClass("is-reveal"),a.attr("type","text")):(e.removeClass("is-reveal"),a.attr("type","password"))}),$(document).on("click","[prato-remote-open]",function(t){t.preventDefault(),$(this).parent().find("[prato-open]").click()}),$(document).on("change","[doc-change]",function(){let t=$(this);$("[result-doc]").removeClass("active"),$(`[result-doc*="${t.val()}"]`).addClass("active")}),$(document).on("change","[toggle-target]",function(){let t=$(this),e=t.val(),a=t.attr("toggle-target");$(`[toggle-scope="${a}"]`).hide(),$(`[toggle-scope="${a}"][toggle-id="${e}"]`).show()}),jQuery(function(t){t(document).on("click","[state-link]",function(e){e.preventDefault();let a=t(this),o=a.attr("title"),n=`${site_url}${a.attr("href")}`;document.title=o;const r={title:o,url:n};history.pushState(r,o,n)})}),jQuery(function(){$.write_in_div=((t,e)=>{$(t).html(e)})}),jQuery(function(){window.setTimeout(function(){$("[data-src]").each(function(t,e){$elem=$(this),$elem.attr("src",$elem.attr("data-src")),$elem.removeAttr("data-src")}),$("[data-background]").each(function(t,e){$elem=$(this),$elem.css("background-image",'url("'+$elem.attr("data-background")+'")'),$elem.removeAttr("data-background")}),$("[data-images]").each(function(t,e){$elem=$(this),imagens=$elem.attr("data-images").split("|"),$("body").append(`\n\t\t\t\t<style>\n\t\t\t\t\t${imagens[2]} { \n\t\t\t\t\t\tbackground-image: url("${imagens[0]}"); \n\t\t\t\t\t} \n\t\t\t\t\t@media (min-width: 768px) { \n\t\t\t\t\t\t${imagens[2]} { \n\t\t\t\t\t\t\tbackground-image: url("${imagens[1]}"); \n\t\t\t\t\t\t} \n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t`),$elem.removeAttr("data-images")})},400)}),$(document).on("click","[close-popup]",function(t){t.preventDefault(),$.closePopup()}),jQuery(function(t){let e=t("body").hasClass("elements-fixed-on-top");t(document).on("click","[open-search]",function(e){e.preventDefault(),t(".search-toggle").click()}),t(document).on("click",".search-toggle",function(e){e.preventDefault();let a=t(this);t.open_search(a)}),t(document).on("click",".search-close",function(a){a.preventDefault();let o=t(this).parents().eq(1);e||t(".filter-space").removeAttr("style"),o.find("form").fadeOut(400,function(){o.find(".search-toggle").removeClass("search-open"),o.removeClass("search-open"),t(".search-space").removeClass("search-open")})}),t.open_search=(a=>{let o=a.parent();e||t(".filter-space").css("display","flex"),a.addClass("search-open"),a.parent().addClass("search-open"),o.find("form").fadeIn(400,function(){o.find("input").focus()})})}),jQuery(function(t){t.add_field_error=((e,a)=>{let o=t(e).parent();o.hasClass("input-block")&&(o=o.parent()),o.addClass("field-error"),o.find(".field-error-alert").remove(),o.append(`<p class="field-error-alert">${a}</p>`)}),t(document).on("change","input, select",function(){let e=t(this).parent();e.hasClass("input-block")&&(e=e.parent()),e.removeClass("field-error"),e.find(".field-error-alert").remove()})});let isset=t=>void 0!==t;jQuery(function(t){t.loadModule=((e,a,o)=>{t.ajax({type:"POST",url:`${site_url}/ajax`,data:{module:e,content:a},complete:t=>{o.html(t.responseJSON.content)}})}),t("[load-module]").each(function(){let e=t(this).attr("load-module"),a=t(this).attr("module-options");t.loadModule(e,a,t(this)),t(this).removeAttr("load-module").removeAttr("module-options")})}),jQuery(function(t){jQuery.fn.putCursorAtEnd=function(){return this.each(function(){var e=t(this),a=this;if(e.is(":focus")||e.focus(),a.setSelectionRange){var o=2*e.val().length;setTimeout(function(){a.setSelectionRange(o,o)},1)}else e.val(e.val());this.scrollTop=999999})},t(document).on("keyup",'input[mask*="cpf"]',function(e){tecla=e.keyCode||e.which,valor=t(this).val(),tam=valor.length,(tecla>=96&&tecla<=105||tecla>=48&&tecla<=57||229==e.which)&&(4==tam&&t(this).val(valor.substr(0,3)+"."+valor.substr(3,2)),8==tam&&t(this).val(valor.substr(0,3)+"."+valor.substr(4,3)+"."+valor.substr(7,1)),12==tam&&t(this).val(valor.substr(0,3)+"."+valor.substr(4,3)+"."+valor.substr(8,3)+"-"+valor.substr(11,1))),tam>3&&t(this).putCursorAtEnd()}),t(document).on("keyup",'input[mask*="cel"]',function(e){tecla=e.keyCode||e.which,valor=t(this).val(),tam=valor.length,(tecla>=96&&tecla<=105||tecla>=48&&tecla<=57||229==e.which)&&tam<15&&(3==tam&&(t(this).val("("+valor.substr(0,2)+") "+valor.substr(2,1)),setTimeout(function(){t(this).focus()},50)),11==tam&&t(this).val("("+valor.substr(1,2)+") "+valor.substr(5,4)+"-"+valor.substr(9,2)),14==tam&&t(this).val("("+valor.substr(1,2)+") "+valor.substr(5,4)+valor.substr(10,1)+"-"+valor.substr(11,3))),t(this).focus(),valor=t(this).val(),t(this).val(""),t(this).val(valor),tam>3&&t(this).putCursorAtEnd()}),t(document).on("keyup",'input[mask*="date"]',function(e){tecla=e.keyCode||e.which,valor=t(this).val(),tam=valor.length,(tecla>=96&&tecla<=105||tecla>=48&&tecla<=57||229==e.which)&&(3==tam&&t(this).val(valor.substr(0,2)+"/"+valor.substr(2,1)),6==tam&&t(this).val(valor.substr(0,2)+"/"+valor.substr(3,2)+"/"+valor.substr(5,1))),t(this).focus(),valor=t(this).val(),t(this).val(""),t(this).val(valor),tam>3&&t(this).putCursorAtEnd()}),t(document).on("keyup",'[mask*="cep"]',function(e){tecla=e.keyCode||e.which,valor=t(this).val(),tam=valor.length,(tecla>=96&&tecla<=105||tecla>=48&&tecla<=57||229==e.which)&&6==tam&&t(this).val(valor.substr(0,5)+"-"+valor.substr(5,1)),t(this).focus(),valor=t(this).val(),t(this).val(""),t(this).val(valor),tam>3&&t(this).putCursorAtEnd()})}),jQuery(function(t){t.openModule=((e,a,o,n=!0,r=!1,s=!1)=>{t.ajax({type:"POST",url:`${site_url}/ajax`,data:{module:e,content:a},beforeSend:()=>{1==n&&(t.writeInPopup("",siteLoader),t.openPopup())},complete:e=>{r&&r.html(s),!0!==n?o.html(e.responseJSON.content):isset(e.responseJSON.content)?t.writeInPopup("",e.responseJSON.content):t.closePopup()}})}),t(document).on("click","[open-module]",function(e){e.preventDefault();let a=t(this).attr("href"),o=t(this).attr("open-module"),n=t(this).attr("show-popup"),r=t(this).attr("module-target");t(this).attr("loading-here")?(curHTML=t(this).html(),t(this).html(siteLoader),r=t(r||this),t.openModule(a,o,r,n,t(this),curHTML)):t.openModule(a,o,r,n)})});