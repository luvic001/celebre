jQuery(function(e){e.checkFieldOnBackend=(t=>{if("object"!=typeof t)return!1;e.ajax({url:`${site_url}/check-field`,data:{fieldName:t.attr("name"),fieldData:t.val()},type:"POST",complete:e=>{if(200!==e.status)return!1;res=e.responseJSON,res.success?t.removeClass("field-error").addClass("field-valid"):t.addClass("field-error").removeClass("field-valid")}})}),e.validateField=(t=>{e.checkFieldOnBackend(t)}),e(document).on("blur","[checkField]",function(){let t=e(this);e.validateField(t)})}),jQuery(function(e){e(document).on("submit","[ajax-form]",function(t){t.preventDefault(),form=e(this),formData=new FormData(form[0]),e.ajax({type:"POST",data:formData,processData:!1,contentType:!1,url:`${site_url}/${form.attr("action")}`,beforeSend:()=>{e.writeInPopup("",siteLoader),e.openPopup(),form.find("input:submit, button").attr("disabled","disabled")},complete:t=>{form.find("input:submit, button").removeAttr("disabled");let a=200==t.status?t.responseJSON.title:"Ops!!";e.writeInPopup(a,t.responseJSON.content),200==t.status&&form[0].reset()}})})}),$=jQuery,$(document).on("click","[ajax-link]",function(e){e.preventDefault();let t=$(this).attr("ajax-link"),a=$(this).attr("href"),o=$(this).attr("ID");$.ajax({type:"POST",url:`${site_url}/ajax`,data:{module:a,callerID:o,data:t},beforeSend:()=>{$.writeInPopup("",siteLoader),$.openPopup()},complete:e=>{let t=200==e.status?e.responseJSON.title:"Ops!!";$.writeInPopup(t,e.responseJSON.content)}})}),jQuery(function($){let body_element_base=$("main.site-app"),header_element_height=55,is_scrolling=!1;$.animate_header_categories=(e=>{let t=e.parents().eq(1);t.find("a").removeClass("active"),e.addClass("active"),t.animate({scrollLeft:e.position().left+t.scrollLeft()-$(".filter-space").innerWidth()},0,()=>{is_loading||($("div[path-url]").removeClass("current-page"),$(`div[path-url="${e.attr("href")}"]`).addClass("current-page")),is_loading=!1})}),$(document).on("click","[menu-categories]",function(e){e.preventDefault();let t=$(this),a=$(`[path-url="${t.attr("href")}"]`);$.animate_header_categories(t),is_scrolling=!0,body_element_base.animate({scrollTop:body_element_base.scrollTop()+a.position().top-header_element_height},400,()=>{is_scrolling=!1,$("div[path-url]").removeClass("current-page"),$(`div[path-url="${t.attr("href")}"]`).addClass("current-page")})});var categories_section_position=new Array;$.get_sections_position_top_and_save_into_var=(()=>{categories_section_position=[],$(".cat-item").each(function(e,t){element_position_top=parseInt($(this).position().top-header_element_height),categories_section_position[element_position_top]=t.id})}),$.get_sections_position_top_and_save_into_var(),$(window).on("resize",function(){$.get_sections_position_top_and_save_into_var()}),$(body_element_base).on("scroll",function(){if(!is_scrolling&&!is_search){let page_y=$(body_element_base).scrollTop();categories_section_position.forEach((element_id,element_min_pos)=>{var element_max_pos=eval($(`#${element_id}`).innerHeight()+element_min_pos);if(page_y>=element_min_pos&&page_y<=element_max_pos){let e=$(`a[href="/${cardapio_url}/${element_id}"]`);$.animate_header_categories(e)}})}})}),jQuery(function(e){e.open_loader=(()=>{e("body").addClass("fx-loading")}),e.close_loader=(()=>{e("body").removeClass("fx-loading")})}),jQuery(function(e){e(document).on("change","[data-money-min]",function(){let t=e(this),a=e(this).parents().eq(1),o=t.val(),r=parseFloat(t.attr("data-min")).toFixed(2),s=r.toString().replace(".",",");o=o.replace(",","."),o=parseFloat(o),a.find(".field-error-alert").remove(),isNaN(o)||o<r?a.addClass("field-error").append(`<p class="field-error-alert">O valor deve ser no mínimo R$ ${s} (Valor total)</p>`):a.removeClass("field-error")})}),$(document).on("click","[delete-client]",function(e){e.preventDefault(),confirmacao=confirm(`Você tem certeza de que deseja ${$(this).attr("title")}`),confirmacao&&$.ajax({type:"POST",url:`${site_url}/excluir-cliente`,data:{client:$(this).attr("delete-client")},beforeSend:()=>{$.writeInPopup("",siteLoader),$.openPopup()},complete:e=>{let t=200==e.status?e.responseJSON.title:"Ops!!";$.writeInPopup(t,e.responseJSON.content)}})}),$(document).on("click","[page-share]",function(e){e.preventDefault();var t=`${site_url}/${cardapio_url}`;const a={title:page_title,url:t,text:""};navigator.share&&navigator.share(a)}),$(document).on("click","[password-toggle]",function(e){e.preventDefault();let t=$(this);var a=t.parent().find("input");"password"==a.attr("type")?(t.addClass("is-reveal"),a.attr("type","text")):(t.removeClass("is-reveal"),a.attr("type","password"))}),$(document).on("click","[prato-remote-open]",function(e){e.preventDefault(),$(this).parent().find("[prato-open]").click()}),$(document).on("change","[doc-change]",function(){let e=$(this);$("[result-doc]").removeClass("active"),$(`[result-doc*="${e.val()}"]`).addClass("active")}),$(document).on("change","[toggle-target]",function(){let e=$(this),t=e.val(),a=e.attr("toggle-target");$(`[toggle-scope="${a}"]`).hide(),$(`[toggle-scope="${a}"][toggle-id="${t}"]`).show()}),jQuery(function(e){e(document).on("click","[state-link]",function(t){t.preventDefault();let a=e(this),o=a.attr("title"),r=`${site_url}${a.attr("href")}`;document.title=o;const s={title:o,url:r};history.pushState(s,o,r)})}),jQuery(function(){$.write_in_div=((e,t)=>{$(e).html(t)})}),jQuery(function(){window.setTimeout(function(){$("[data-src]").each(function(e,t){$elem=$(this),$elem.attr("src",$elem.attr("data-src")),$elem.removeAttr("data-src")}),$("[data-background]").each(function(e,t){$elem=$(this),$elem.css("background-image",'url("'+$elem.attr("data-background")+'")'),$elem.removeAttr("data-background")}),$("[data-images]").each(function(e,t){$elem=$(this),imagens=$elem.attr("data-images").split("|"),$("body").append(`\n\t\t\t\t<style>\n\t\t\t\t\t${imagens[2]} { \n\t\t\t\t\t\tbackground-image: url("${imagens[0]}"); \n\t\t\t\t\t} \n\t\t\t\t\t@media (min-width: 768px) { \n\t\t\t\t\t\t${imagens[2]} { \n\t\t\t\t\t\t\tbackground-image: url("${imagens[1]}"); \n\t\t\t\t\t\t} \n\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t`),$elem.removeAttr("data-images")})},400)}),$(document).on("click","[close-popup]",function(e){e.preventDefault(),$.closePopup()}),jQuery(function(e){let t=e("body").hasClass("elements-fixed-on-top");e(document).on("click","[open-search]",function(t){t.preventDefault(),e(".search-toggle").click()}),e(document).on("click",".search-toggle",function(t){t.preventDefault();let a=e(this);e.open_search(a)}),e(document).on("click",".search-close",function(a){a.preventDefault();let o=e(this).parents().eq(1);t||e(".filter-space").removeAttr("style"),o.find("form").fadeOut(400,function(){o.find(".search-toggle").removeClass("search-open"),o.removeClass("search-open"),e(".search-space").removeClass("search-open")})}),e.open_search=(a=>{let o=a.parent();t||e(".filter-space").css("display","flex"),a.addClass("search-open"),a.parent().addClass("search-open"),o.find("form").fadeIn(400,function(){o.find("input").focus()})})}),jQuery(function(e){e.add_field_error=((t,a)=>{let o=e(t).parent();o.hasClass("input-block")&&(o=o.parent()),o.addClass("field-error"),o.find(".field-error-alert").remove(),o.append(`<p class="field-error-alert">${a}</p>`)}),e(document).on("change","input, select",function(){let t=e(this).parent();t.hasClass("input-block")&&(t=t.parent()),t.removeClass("field-error"),t.find(".field-error-alert").remove()})});let isset=e=>void 0!==e;jQuery(function(e){e.loadModule=((t,a,o)=>{e.ajax({type:"POST",url:`${site_url}/ajax`,data:{module:t,content:a},complete:e=>{o.html(e.responseJSON.content)}})}),e("[load-module]").each(function(){let t=e(this).attr("load-module"),a=e(this).attr("module-options");e.loadModule(t,a,e(this)),e(this).removeAttr("load-module").removeAttr("module-options")})}),jQuery(function(e){jQuery.fn.putCursorAtEnd=function(){return this.each(function(){var t=e(this),a=this;if(t.is(":focus")||t.focus(),a.setSelectionRange){var o=2*t.val().length;setTimeout(function(){a.setSelectionRange(o,o)},1)}else t.val(t.val());this.scrollTop=999999})},e(document).on("keyup",'input[mask*="cpf"]',function(t){tecla=t.keyCode||t.which,valor=e(this).val(),tam=valor.length,(tecla>=96&&tecla<=105||tecla>=48&&tecla<=57||229==t.which)&&(4==tam&&e(this).val(valor.substr(0,3)+"."+valor.substr(3,2)),8==tam&&e(this).val(valor.substr(0,3)+"."+valor.substr(4,3)+"."+valor.substr(7,1)),12==tam&&e(this).val(valor.substr(0,3)+"."+valor.substr(4,3)+"."+valor.substr(8,3)+"-"+valor.substr(11,1))),tam>3&&e(this).putCursorAtEnd()}),e(document).on("keyup",'input[mask*="cel"]',function(t){tecla=t.keyCode||t.which,valor=e(this).val(),tam=valor.length,(tecla>=96&&tecla<=105||tecla>=48&&tecla<=57||229==t.which)&&tam<15&&(3==tam&&(e(this).val("("+valor.substr(0,2)+") "+valor.substr(2,1)),setTimeout(function(){e(this).focus()},50)),11==tam&&e(this).val("("+valor.substr(1,2)+") "+valor.substr(5,4)+"-"+valor.substr(9,2)),14==tam&&e(this).val("("+valor.substr(1,2)+") "+valor.substr(5,4)+valor.substr(10,1)+"-"+valor.substr(11,3))),e(this).focus(),valor=e(this).val(),e(this).val(""),e(this).val(valor),tam>3&&e(this).putCursorAtEnd()}),e(document).on("keyup",'input[mask*="date"]',function(t){tecla=t.keyCode||t.which,valor=e(this).val(),tam=valor.length,(tecla>=96&&tecla<=105||tecla>=48&&tecla<=57||229==t.which)&&(3==tam&&e(this).val(valor.substr(0,2)+"/"+valor.substr(2,1)),6==tam&&e(this).val(valor.substr(0,2)+"/"+valor.substr(3,2)+"/"+valor.substr(5,1))),e(this).focus(),valor=e(this).val(),e(this).val(""),e(this).val(valor),tam>3&&e(this).putCursorAtEnd()}),e(document).on("keyup",'[mask*="cep"]',function(t){tecla=t.keyCode||t.which,valor=e(this).val(),tam=valor.length,(tecla>=96&&tecla<=105||tecla>=48&&tecla<=57||229==t.which)&&6==tam&&e(this).val(valor.substr(0,5)+"-"+valor.substr(5,1)),e(this).focus(),valor=e(this).val(),e(this).val(""),e(this).val(valor),tam>3&&e(this).putCursorAtEnd()})}),jQuery(function(e){e.openModule=((t,a,o,r=!0,s=!1,n=!1)=>{e.ajax({type:"POST",url:`${site_url}/ajax`,data:{module:t,content:a},beforeSend:()=>{1==r&&(e.writeInPopup("",siteLoader),e.openPopup())},complete:t=>{s&&s.html(n),!0!==r?o.html(t.responseJSON.content):isset(t.responseJSON.content)?e.writeInPopup("",t.responseJSON.content):e.closePopup()}})}),e(document).on("click","[open-module]",function(t){t.preventDefault();let a=e(this).attr("href"),o=e(this).attr("open-module"),r=e(this).attr("show-popup"),s=e(this).attr("module-target");e(this).attr("loading-here")?(curHTML=e(this).html(),e(this).html(siteLoader),s=e(s||this),e.openModule(a,o,s,r,e(this),curHTML)):e.openModule(a,o,s,r)})});